# translator-rs

ä¸€ä¸ªç”¨ rust å†™çš„ PDF è®ºæ–‡ç®€å•å®æ—¶ç¿»è¯‘ï¼Œç¿»è¯‘ API ä¸º Google æä¾›ï¼ˆä¸»è¦æ”¯æŒ Linux ç”¨æˆ·ï¼ŒWindows ç”¨æˆ·ä¹Ÿå¯ä»¥ç”¨ä½†æ˜¯è²Œä¼¼æœ‰æ¯”è¿™è¿˜å¥½çš„è½¯ä»¶ï¼Ÿï¼‰ï¼Œæ”¯æŒå•ä¸ªå•è¯æŸ¥çœ‹è¯¦ç»†ç›¸ä¼¼ç¿»è¯‘ã€‚

[![Rust](https://github.com/rikonaka/translator-rs/actions/workflows/rust.yml/badge.svg?branch=main)](https://github.com/rikonaka/translator-rs/actions/workflows/rust.yml)

![example](./vids/example.gif)

## å®‰è£…

### ä½¿ç”¨ä¹‹å‰è¯·å…ˆå®‰è£… `xsel`

```bash
sudo apt install xsel
```

ä¹‹åå°† [release](https://github.com/rikonaka/translator-rs/releases) é¡µé¢ä¸‹çš„å‹ç¼©åŒ…è§£å‹åˆ°æœ¬åœ°ï¼Œå°†æ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶ç§»åŠ¨åˆ° `/usr/bin` ä¸‹ï¼ˆä»»ä½•åœ¨ `PATH` ä¸­çš„ç›®å½•éƒ½è¡Œï¼‰ï¼Œä¹‹åè¿è¡Œå‘½ä»¤å³å¯ï¼š

```bash
translator-rs
```

æˆ–è€…è¿›å…¥è§£å‹åçš„ç›®å½•ç›´æ¥æ‰§è¡Œï¼š

```bash
./translator-rs
```

### ä½¿ç”¨

ç›´æ¥ç‚¹é€‰å•è¯æˆ–è€…ä¸€æ®µè¯æ—¢å¯ï¼ˆåœ¨ Ubuntu 22.04 Gnome&Wayland æ¡Œé¢ç¯å¢ƒä¸Šæµ‹è¯•è¿‡ï¼Œè¿˜æœ‰ Kubuntu22.04 çš„ Plasma æ¡Œé¢ï¼Œå…¶ä»–æ¡Œé¢è¿˜æ²¡æœ‰æµ‹è¯•è¿‡ï¼‰ã€‚

- `O` ä»£è¡¨åŸæ–‡
- `T` ä»£è¡¨ç¿»è¯‘
- `A` ä»£è¡¨åŒä¹‰è¯

## é€‰é¡¹è¯´æ˜

### é…è‰²æ–¹æ¡ˆ

æä¾›ä¸¤ç§é…è‰²æ–¹æ¡ˆé€‰æ‹©

Light

![light](./vids/theme_light.png)

Dark

![dark](./vids/theme_dark.png)

### åˆ‡æ¢ç¿»è¯‘ API æœåŠ¡

é»˜è®¤ç¿»è¯‘ API ä¸º Google translateï¼Œå¦‚æœæƒ³åˆ‡æ¢åˆ° DeepL çš„ APIï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š

```bash
translator-rs -a deepl --auth-key xxxxxxxx:xx
```

ä¸Šé¢æ˜¯å…è´¹ç‰ˆçš„ï¼Œä¸‹é¢æ˜¯ pro ç‰ˆçš„ï¼š

```bash
translator-rs -a deeplpro --auth-key xxxxxxxx:xx
```

### ä»£ç†é€‰é¡¹

æ ¹æ®æœ€æ–°çš„é˜²ç«å¢™è§„åˆ™ï¼ˆGFWï¼‰å·²ç»å°† Google ç¿»è¯‘ API åˆ—å…¥é»‘åå•ï¼Œæ‰€ä»¥æ–°å¢ proxy é€‰é¡¹ã€‚æ‰€ä»¥å¦‚æœå‡ºç°è®¿é—®è¶…æ—¶çš„æƒ…å†µï¼Œè¯·è€ƒè™‘ä¸ºç¿»è¯‘è½¯ä»¶è®¾ç½®ä»£ç†ï¼Œç›®å‰æ”¯æŒä»£ç†ï¼š

* https ä»£ç†
* socks5 ä»£ç†

```bash
translator-rs -p socks5://192.168.122.67:1080
```

### åˆ‡æ¢ç¿»è¯‘è¯­ç§

ç›®å‰æ”¯æŒçš„ç¿»è¯‘è¯­ç§åŒ…å«äº†ï¼š

* English
* Chinese (Simplified)
* Chinese (Traditional)
* Japanese
* Spanish
* Russian
* Korean
* French
* German
* Italian

å¦‚æœ‰ç¿»è¯‘å…¶ä»–è¯­è¨€çš„éœ€è¦ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥æŒ‡å®š`æºè¯­è¨€`å’Œ`ç›®æ ‡è¯­è¨€`ï¼š

```bash
translator-rs -s Engligh -t French
```

### åŠ å¿«ç¿»è¯‘é€Ÿåº¦

å¦‚æœè§‰å¾—ç¿»è¯‘é€Ÿåº¦æ…¢å¯ä»¥ä½¿ç”¨ `fast` æ¨¡å¼ï¼ˆåŠŸè€—å¯èƒ½ä¼šæ¯” `slow` æ¨¡å¼é«˜ï¼Œé»˜è®¤æ˜¯ `slow` æ¨¡å¼ï¼‰ï¼š

```bash
translator-rs -f
```

æ–°å¢å¯¹ Linux ä¸ŠæŸäº›æ— æ³•è‡ªåŠ¨è·å¾—é€‰å–æ–‡å­—åº”ç”¨ä¸Šçš„æ”¯æŒã€‚æŸäº›æ— æ³•è‡ªåŠ¨è·å¾—é€‰å–æ–‡å­—çš„ Linux åº”ç”¨ç°åœ¨å¯ä»¥é€šè¿‡ `ctrl-c` æ¥å¤åˆ¶æ–‡å­—ä¹‹åè‡ªåŠ¨ç¿»è¯‘ã€‚

### æ¸…å±æ¨¡å¼

æ­¤æ¨¡å¼ä¸‹çš„é»˜è®¤å‚æ•°ä¸‹æ¯æ¬¡ç¿»è¯‘éƒ½ä¼šæ¸…ç©ºä¹‹å‰çš„ç¿»è¯‘ã€‚

```bash
translator-rs -c
```

å¦‚æœæƒ³åœ¨ç¿»è¯‘ä¸‰æ¬¡ä¹‹åæ¸…å±ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š

```bash
translator-rs -c 3
```

### ä¸æ˜¾ç¤ºåŸæ–‡

å¦‚æœåœ¨ç¿»è¯‘çš„æ—¶å€™æƒ³ä¸æ˜¾ç¤ºåŸæ–‡ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹é€‰é¡¹ï¼š

```bash
translator-rs --no-original
```

### ä¸è‡ªåŠ¨æ–­å¥

å¦‚æœä¸æƒ³è‡ªåŠ¨æ–­å¥ï¼Œå¯ä»¥ä½¿ç”¨é€‰é¡¹ï¼š

```bash
translator-rs --disable-auto-break
```

### æŸäº› Linux å‘è¡Œç‰ˆ

æŸäº› Linux å‘è¡Œç‰ˆä¸Šçš„è½¯ä»¶æ— æ³•è‡ªåŠ¨æå–è¯†åˆ«é€‰ä¸­çš„æ–‡å­—ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹é€‰é¡¹æ¿€æ´» Linux å‰ªåˆ‡æ¿åŠŸèƒ½ï¼Œä¹‹åä½¿ç”¨ `ctrl-c` å¤åˆ¶éœ€è¦ç¿»è¯‘çš„æ–‡å­—å³å¯ã€‚

```bash
translator-rs --enable-clipboard
```

## ä¸ºä»€ä¹ˆä¸æ”¯æŒ gui æˆ–è€… tuiï¼Ÿ

ä¸æƒ³åœ¨è¿™æ–¹é¢æµªè´¹æ—¶é—´ï¼Œèƒ½æ»¡è¶³ä½¿ç”¨å°±è¡Œã€‚ğŸ˜˜

## release

release é¡µé¢æœ‰å¤šä¸ªç‰ˆæœ¬ä¸‹è½½ï¼š

* Linux å¦ä¸€ä¸ªç‰ˆæœ¬æ˜¯ä½¿ç”¨ `x86_64-unknown-linux-musl` é™æ€ç¼–è¯‘çš„ï¼ˆå ç”¨ç©ºé—´å°å¯ç§»æ¤æ€§å¥½ï¼‰
* Windows å¦ä¸€ä¸ªç‰ˆæœ¬æ˜¯ç”¨ `x86_64-pc-windows-msvc` é™æ€ç¼–è¯‘çš„ï¼ˆå¾®è½¯æä¾›çš„ MSVC ç¼–è¯‘å™¨ï¼‰
* ~~Linux ä¸€ä¸ªç‰ˆæœ¬ç‰ˆæœ¬æ˜¯ä½¿ç”¨ `x86_64-unknown-linux-gnu` é™æ€ç¼–è¯‘çš„~~ï¼ˆLinux é»˜è®¤çš„ glibc åœ¨æŸäº›æ—§å‘è¡Œç‰ˆä¸Šä¼šå‡ºç°æŠ¥é”™ï¼‰
* ~~Windows ç‰ˆæœ¬æ˜¯ä½¿ç”¨ `x86_64-pc-windows-gnu` é™æ€ç¼–è¯‘çš„~~ï¼ˆå’Œ Windows çš„é»˜è®¤ç¼–è¯‘å™¨ MSVC ç›¸æ¯”æ¥è¯´å¯èƒ½ä¼šæœ‰ä¸€äº› bug ï¼‰
* ~~ARM ç‰ˆæœ¬æ˜¯ä½¿ç”¨ `aarch64-unknown-linux-gnu` é™æ€ç¼–è¯‘çš„~~ï¼ˆæ²¡ä»€ä¹ˆäººç”¨ï¼‰
